import { Component } from '@angular/core';
import { CommonModule } from '@angular/common';

interface Product {
  id: number;
  name: string;
  image: string;
  details: string;
}

@component({
  selector: 'app-root',
  standalone: true,
  imports: [CommonModule],
  styles: [
    `
  .body {
  margin: 0  ;
  padding: 20px  ;
  }
  .container {
  display: flex  ;
  min-height: 80 vh  ;
  gap: 20px  ;
  }
  .product-list {
  width: 30%  ;
  border-right: 1px solid #ddd  ;
  padding-right: 20px  ;
  }
  .product {
  display: flex  ;
  align-items: center  ;
  justify-content: space-between  ;
  gap: 10px  ;
  padding: 10px  ;
  cursor: pointer  ;
  border-bottom: 1px solid #eee  ;
  }
  .product-hover {
  background: #f0f0f0  ;
  }
  .product-info {
  display: flex  ;
  align-items: center  ;
  gap: 10px  ;
  flex: 1  ;
  }
  .product img {
  width: 50px  ;
  height: 50px  ;
  object-fit: cover  ;
  border-radius: 4px  ;
  }
  .delete-btn {
  background: #ff4d4d  ;
  color: white  ;
  border: none  ;
  border-radius: 4px  ;
  padding: 5px 10px  ;
  cursor: pointer  ;
  }
  .delete-btn-hover {
  background: #ff1a1a  ;
  }
  .product-details {
  background: #f9f9f9  ;
  flex: 1  ;
  padding: 30px  ;
  display: flex  ;
  flex-direction: column  ;
  align-items: center  ;
  }
  .product-details img {
  box-shadow: 0 2px 2px  ;
  padding: 20px  ;
  width: 800px  ;
  height: 400px  ;
  border-radius: 4px  ;
  }
  .empty-message {
  text-align: center  ;
  padding: 40px  ;
  font-size: 18px  ;
  border: 1px dashed #ddd  ;
  border-radius: 8px  ;
  margin-top: 20px  ;
  }
    `,
  ],


   template: `
        <div class="container">
          <div class="product-list">
            <h2 class="text-xl font-bold mb-4">Products</h2>
            <ul>
              <li *ngFor="let product of products" class="product">
                <div class="product-info" (click)="selectProduct(product)">
                  <img [src]="product.image" alt="{{ product.name }}" />
                  <p>{{ product.name }}</p>
                </div>
                <button class="delete-btn" (click)="deleteProduct($event, product.id)">Delete</button>
              </li>
            </ul>
          </div>

          <div class="product-details" *ngIf="selectedProduct; else empty">
            <h2 class="text-xl font-bold mb-4">Product Details</h2>
            <h3>{{ selectedProduct.name }}</h3>
            <img [src]="selectedProduct.image" alt="{{ selectedProduct.name }}" />
            <p>Details: {{ selectedProduct.details }}</p>
           </div>

         </div>
      `,
})
export class AppComponent {
  products: Product[] = [
    {
      id: 1,
      name: 'Wireless Headphones',
      image: 'https://via.placeholder.com/100',
      details: 'High-quality wireless headphones with noise cancellation',
      price: 129
    },
    {
      id: 2,
      name: 'Smart Watch',
      image: 'https://via.placeholder.com/100',
      details: 'Latest smartwatch with health monitoring features',
      price: 199
    },
    {
      id: 3,
      name: 'Bluetooth Speaker',
      image: 'https://via.placeholder.com/100',
      details: 'Portable speaker with 20h battery life',
      price: 79
    }
  ];

  selectedProduct: Product | null = null;

  selectProduct(product: Product): void {
    this .selectedProduct = product;
  }
 deleteProduct(event: MouseEvent, productId: number): void {
    event.stopPropagation();
    this .products = this .products . filter (p => p . id != productId);
  }

}